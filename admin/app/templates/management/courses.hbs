{{#paper-card as |card|}}
  {{#card.title as |title|}}
    {{#title.text as |text|}}
      {{#text.headline}}
        Neue Veranstaltung anlegen:
      {{/text.headline}}
    {{/title.text}}
  {{/card.title}}
  {{#paper-form onSubmit=(action "saveCourse") as |form|}}
    {{#card.content}}
    <div class="layout-gt-xs-row layout-wrap" style="justify-content: space-around">
        <div class="flex-gt-xs-30">
      {{form.input value=name label="Name" required=true onChange=(action (mut name))}}
      </div>
        <div class="flex-gt-xs-30">
      {{form.input value=lsfid type="number" label="LSF-ID" required=true onChange=(action (mut lsfid))}}
    </div>
      <div class="flex-gt-xs-30">
      {{form.input value=abbv label="Abkürzung" required=true onChange=(action (mut abbv))}}
    </div>
  </div>
  <div class="layout-gt-xs-row layout-wrap" style="justify-content: space-around">
  <div class="flex-gt-xs-30">
      {{#form.autocomplete
        required=true
        allowClear=true
        searchText=(readonly coursetype.name)
        selected=coursetype
        options=model.coursetypes
        searchField="name"
        labelPath="name"
        placeholder="Veranstaltungstyp wählen"
        loadingMessage="Suche Veranstaltungstyp..."
                noMatchesMessage="Oops, solch ein Veranstaltungstyp existiert nicht."
                onSelectionChange=(action (mut coursetype))
                as |ct autocomplete|}}
      {{paper-autocomplete-highlight
            label=ct.name
            searchText=autocomplete.searchText
            flags="i"}}
      {{/form.autocomplete}}
    </div>
      <div class="flex-gt-xs-30">
      {{#form.autocomplete required=true allowClear=true searchText=(readonly faculty.name) selected=faculty options=model.faculties searchField="name" labelPath="name" placeholder="Fakultät wählen" loadingMessage="Suche Fakultät..."
                            noMatchesMessage="Oops, solch eine Fakultät existiert nicht." onSelectionChange=(action (mut faculty)) as |fac autocomplete|}}
      {{paper-autocomplete-highlight
                        label=fac.name
                        searchText=autocomplete.searchText
                        flags="i"}}
      {{/form.autocomplete}}
    </div>
      <div class="flex-gt-xs-30">
      {{#form.autocomplete required=true allowClear=true searchText=(readonly semester.name) selected=semester options=model.semesters searchField="name" labelPath="name" placeholder="Semester auswählen" loadingMessage="Suche Semester..."
                                        noMatchesMessage="Oops, solch ein Semester existiert nicht." onSelectionChange=(action (mut semester)) as |sem autocomplete|}}
      {{paper-autocomplete-highlight
                                    label=sem.name
                                    searchText=autocomplete.searchText
                                    flags="i"}}
      {{/form.autocomplete}}
    </div>
  </div>
    <div class="layout-gt-xs-row flex-gt-xs-90 layout-wrap" style="justify-content: space-around; margin: 15px 0;">
  {{#paper-chips readOnly=false removeItem=(action "removeLecturer") addItem=(action "addLecturer") placeholder="Dozierendes hinzufügen" content=selected_lecturers options=model.lecturers requireMatch=true as |item|}}
                  <em>{{item.givenname}}</em> {{item.surname}}
                  {{/paper-chips}}
</div>
    {{/card.content}}
    {{#card.actions}}
      {{#form.submit-button disabled=form.isInvalid raised=true primary=true}}Speichern{{/form.submit-button}}
    {{/card.actions}}
  {{/paper-form}}
{{/paper-card}}
{{#paper-card as |card|}}
  {{#card.title as |title|}}
    {{#title.text as |text|}}
      {{#text.headline}}
        {{paper-icon "rate review"}} Kurse
      {{/text.headline}}
    {{/title.text}}
  {{/card.title}}
  {{#card.content}}
    {{#paper-data-table sortProp="name" sortDir="desc" selectable=true as |table|}}
      {{#table.head as |head|}}
        {{head.column}}
        {{#head.column}}Name{{/head.column}}
        {{#head.column}}Abkürzung{{/head.column}}
        {{#head.column}}Dozierende{{/head.column}}
        {{#head.column}}LSF-ID{{/head.column}}
        {{#head.column}}Optionen{{/head.column}}
      {{/table.head}}
      {{#table.body as |body|}}
        {{#each (sort-by table.sortDesc model) as |cs|}}
          {{#body.row edit=true as |row|}}
            {{#row.cell}}{{paper-icon "rate review" }}{{/row.cell}}
            {{#row.cell}}{{cs.name}}{{/row.cell}}
            {{#row.cell}}{{cs.abbreviation}}{{/row.cell}}
            {{#row.cell}}
              {{#each cs.lecturers as |lec index|}}
                {{#if index}},{{/if}}{{lec.surname}}{{/each}}
            {{/row.cell}}
            {{#row.cell}}{{cs.lsfid}}{{/row.cell}}
            {{#row.cell edit=true as |cell|}}
              {{#paper-button iconButton=true onClick=(action "editCourse" cs)}}{{paper-icon "edit"}}{{/paper-button}}
              {{#paper-button iconButton=true onClick=(action "deleteCourse" cs)}}{{paper-icon "delete"}}{{/paper-button}}
            {{/row.cell}}
          {{/body.row}}
        {{/each}}
      {{/table.body}}
    {{/paper-data-table}}
  {{/card.content}}
{{/paper-card}}
